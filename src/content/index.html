<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta property="og:title" content="wish-world">
  <meta property="og:description" content="시준희님의 미니홈피를 구경해보세요!">
  <title>시준희님의 미니홈피 :: Wishes come true...</title>
  <link rel="stylesheet" href="../style/style.css">
  <script src="../js/index.js"></script>
</head>
<body>
    <div class="book-container">
        <div class="page left">
          <div class="inner-page left">
            
            <div class="left-wing">
              <img src="../img/left-wing.png" />
            </div>
            <div class="inner-page left inner-top">
              <p>TODAY 0 | TOTAL 0</p>
            </div>
            <div class="inner-page left inner-bottom">
              <iframe id="leftFrame" src="./left_page/home_left.html" width="100%" height="100%" style="border: none;"></iframe>
            </div>
            <div class="clip-groups">
              <div class="clips">
                <div class="clip"></div>
                <div class="clip"></div>
              </div>
              <div class="clips">
                <div class="clip"></div>
                <div class="clip"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="page right">
          <div class="inner-page right">
            <div class="right-wing">
              <img src="../img/right-wing.png" />
            </div>
            <div class="inner-page right inner-top">
              <p>Wishes Come True . . .</p>
            </div>
            <div class="inner-page right inner-bottom">
              <iframe id="rightFrame" src="./right_page/home_right.html" width="99%" height="97%" style="border: none;"></iframe>
            </div>
          </div>
        </div>
        <div class="index-groups">
          <div class="index index1" id="menuHome" onclick="menuHome()" style="z-index: 2;">
            <p>홈</p>
          </div>
          <div class="index index2" id="menuProfile">
            <p>프로필</p>
          </div>
          <div class="index index3" id="menuDiary" onclick="menuDiary()">
            <p>다이어리</p>
          </div>
          <div class="index index4" id="menuJukeBox" onclick="menuJukeBox()">
            <p>쥬크박스</p>
          </div>
          <div class="index index5" id="menuPhoto" onclick="menuPhoto()">
            <p>사진첩</p>
          </div>
          <div class="index index6" id="menuGuestBook" onclick="menuGuestBook()">
            <p>방명록</p>
          </div>
        </div>
      </div>

      <div id="player"></div>

      <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        var tag = document.createElement('script');

        tag.src = "https://www.youtube.com/embed/";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        
        var player;

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
            height: '0',
            width: '0',
            videoId: 'u0JxxLZpc3E',
            playerVars: {
                autoplay : 1,
                loop: 1,
                playlist: 'u0JxxLZpc3E',
            },
            events: {
                'onReady': onPlayerReady,
                'onStateChange': onPlayerStateChange
            }
            });
        }

        function addSong() {
            const title = document.getElementById('songTitle').value;
            const artist = document.getElementById('artist').value;
            const url = document.getElementById('youtubeUrl').value;
            const videoId = url.split('v=')[1]?.split('&')[0];
            if (!title || !artist || !videoId) return alert("올바른 정보를 입력하세요!");
            
            const songList = document.getElementById('songList');
            const li = document.createElement('li');
            li.innerHTML = `<input type="checkbox" class="song-check" data-id="${videoId}"> ${title} - ${artist}`;
            songList.appendChild(li);
        }

        function onPlayerStateChange(event) {
            if (event.data == YT.PlayerState.ENDED) {
            console.log("onPlayerStateChange:",event.data,"ENDED");
            } else if (event.data == YT.PlayerState.PLAYING) {
            console.log("onPlayerStateChange:",event.data,"PLAYING");
            } else if (event.data == YT.PlayerState.PAUSED) {
            console.log("onPlayerStateChange:",event.data,"PAUSED");
            } else if (event.data == YT.PlayerState.BUFFERING) {
            console.log("onPlayerStateChange:",event.data,"BUFFERING");
            } else if (event.data == YT.PlayerState.CUED) {
            console.log("onPlayerStateChange:",event.data,"CUED");
            }
        }


        // 4. The API will call this function when the video player is ready.
        function onPlayerReady(event) {
            event.target.playVideo();
        }

        // 5. The API calls this function when the player's state changes.
        //    The function indicates that when playing a video (state=1),
        //    the player should play for six seconds and then stop.
        var done = false;
        function onPlayerStateChange(event) {
            if (event.data == YT.PlayerState.PLAYING && !done) {
            // setTimeout(stopVideo, 6000);
            // done = true;
            }
        }
        function stopVideo() {
            player.stopVideo();
        }
    </script>
</body>
</html>
